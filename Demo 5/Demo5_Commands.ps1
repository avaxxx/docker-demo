#######################
###      LINUX     ####
#######################

cd ..

cd '.\Demo 5'

chcp 852

#------------------------------------------------------------------------------------------------

docker-compose build

#------------------------------------------------------------------------------------------------

docker-compose up

#------------------------------------------------------------------------------------------------

az group create --name ContainerService --location westeurope

#------------------------------------------------------------------------------------------------

az acs create --name ContainerService --orchestrator-type Swarm --resource-group ContainerServiceGroup --generate-ssh-keys --agent-vm-size Standard_A2_v2

#------------------------------------------------------------------------------------------------

az network public-ip list --resource-group ContainerService --query "[*].{Name:name,IPAddress:ipAddress}" -o table

#------------------------------------------------------------------------------------------------

# swarm-agent-ip-quadrotechagents-1F6F72ED  52.232.39.223
# swarm-master-ip-quadrotechmgmt-1F6F72ED   104.45.12.33

# Your public key has been saved in /home/avaxxx/.ssh/id_rsa.pub.

#------------------------------------------------------------------------------------------------

ssh azureuser@104.45.12.33 -A -p 2200 -i /mnt/c/Users/avaxx/.ssh/id_rsa

#------------------------------------------------------------------------------------------------

docker swarm init

#------------------------------------------------------------------------------------------------

export DOCKER_HOST=:2375

#------------------------------------------------------------------------------------------------

docker-compose up --scale web=2

#------------------------------------------------------------------------------------------------

# http://quadrotechagents.westeurope.cloudapp.azure.com

#------------------------------------------------------------------------------------------------

export DOCKER_HOST=:2375

#------------------------------------------------------------------------------------------------

docker ps

#------------------------------------------------------------------------------------------------

dockr info

#------------------------------------------------------------------------------------------------

az group delete --name ContainerServiceGroup --yes --no-wait